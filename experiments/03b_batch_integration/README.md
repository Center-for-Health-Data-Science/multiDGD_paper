## 03b_batch_integration

This folder refers to Section `2.5.2 Integrating unseen batches without architectural surgery`.

### Training

For three different random seeds, both multiDGD and MultiVI were trained on three out of four batches from the human bonemarrow training set. This resulted in three models for all four combinations. MultiVI was then finetuned with scArches to be able to predict the unseen batch in the test set (in subfolder `testing`). Everything is run by executing the bash script `032_bash_run.sh`.

### Analysis

The analysis can be found in the subfolder `analysis` and is executed by the bash script `033_bash_analysis.sh`. Plots from the manuscript are subsequently generated by the bash script `034_bash_plot.sh`.

## Execution

```
bash 032_bash_run.sh
bash 033_bash_analysis.sh
bash 034_bash_plot.sh
```

## !Note!

***This is still a work in progress, and we hope you have patience with us. We are cleaning and refactoring our code from more than half a year of work for you, so that you can run the experiments from our manuscript.***